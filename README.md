# TenAsia Intelligence Hub

> **í…ì•„ì‹œì•„ ê¸€ë¡œë²Œ ë°ì´í„° íŒŒìš´ë°ì´ì…˜** â€” K-ì—”í„°í…Œì¸ë¨¼íŠ¸ ì½˜í…ì¸ ë¥¼ AIë¡œ ì •ì œí•˜ì—¬ ê¸€ë¡œë²Œ íŒ¬ë¤ì— ì „ë‹¬í•˜ëŠ” ì§€ëŠ¥í˜• ë°ì´í„° í”Œë«í¼

---

> ### ğŸ”’ ë³´ì•ˆ ì„œì•½ â€” ì™¸ë¶€ ìœ ì¶œ ì—„ê¸ˆ (CONFIDENTIAL)
>
> ì´ ë ˆí¬ì§€í† ë¦¬ëŠ” **ë¹„ê³µê°œ(Private)** ì €ì¥ì†Œì…ë‹ˆë‹¤.
> ìˆ˜ë¡ëœ ì½”ë“œ, ì•„í‚¤í…ì²˜, ì„¤ì • ì •ë³´ëŠ” ë‚´ë¶€ í”„ë¡œì íŠ¸ ìì‚°ìœ¼ë¡œ,
> **íŒ€ ì™¸ë¶€ ì¸ì›ì—ê²Œ ê³µìœ Â·ë³µì‚¬Â·ë°°í¬Â·ìŠ¤í¬ë¦°ìƒ· ìœ í¬ë¥¼ ì—„ê²©íˆ ê¸ˆì§€**í•©ë‹ˆë‹¤.
>
> - API í‚¤, DB ì ‘ì† ì •ë³´, AWS ìê²©ì¦ëª…ì€ **ì ˆëŒ€** ì´ ë ˆí¬ì§€í† ë¦¬ì— ì»¤ë°‹í•˜ì§€ ë§ˆì„¸ìš”.
> - `.env` íŒŒì¼ ë˜ëŠ” í•˜ë“œì½”ë”©ëœ ì‹œí¬ë¦¿ì„ ë°œê²¬í•˜ë©´ ì¦‰ì‹œ ì‚­ì œí•˜ê³  í•´ë‹¹ í‚¤ë¥¼ **ì¬ë°œê¸‰**í•˜ì„¸ìš”.
> - ë³´ì•ˆ ì‚¬ê³ (í‚¤ ë…¸ì¶œ, ë¬´ë‹¨ ì ‘ê·¼ ë“±) ë°œìƒ ì‹œ **ì¦‰ì‹œ í”„ë¡œì íŠ¸ ì±…ì„ìì—ê²Œ ë³´ê³ **í•˜ì‹­ì‹œì˜¤.
> - í‡´ì§Â·ì´ì§ ì‹œ ë³¸ì¸ ê³„ì •ì˜ ë ˆí¬ì§€í† ë¦¬ ì ‘ê·¼ ê¶Œí•œì„ **ì¦‰ì‹œ ë°˜ë‚©**í•˜ì„¸ìš”.

---

[![Python](https://img.shields.io/badge/Python-3.10%2B-3776AB?logo=python&logoColor=white)](https://www.python.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15-336791?logo=postgresql&logoColor=white)](https://www.postgresql.org/)
[![AWS](https://img.shields.io/badge/AWS-App_Runner_%7C_EC2_%7C_RDS-FF9900?logo=amazonaws&logoColor=white)](https://aws.amazon.com/)
[![Terraform](https://img.shields.io/badge/Terraform-IaC-7B42BC?logo=terraform&logoColor=white)](https://www.terraform.io/)
[![Gemini](https://img.shields.io/badge/Gemini-2.0_Flash-4285F4?logo=google&logoColor=white)](https://ai.google.dev/)

---

## ëª©ì°¨

- [í”„ë¡œì íŠ¸ ëª©ì ](#-í”„ë¡œì íŠ¸-ëª©ì )
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [ë””ë ‰í„°ë¦¬ êµ¬ì¡°](#-ë””ë ‰í„°ë¦¬-êµ¬ì¡°)
- [ì„¤ì¹˜ ë° ì‹¤í–‰](#-ì„¤ì¹˜-ë°-ì‹¤í–‰)
- [í™˜ê²½ ë³€ìˆ˜](#-í™˜ê²½-ë³€ìˆ˜)
- [ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜](#-ë°ì´í„°ë² ì´ìŠ¤-ë§ˆì´ê·¸ë ˆì´ì…˜)
- [Phase ë¡œë“œë§µ](#-phase-ë¡œë“œë§µ)
- [ì•„í‚¤í…ì²˜](#-ì•„í‚¤í…ì²˜)
- [ê¸°ì—¬ ê°€ì´ë“œ](#-ê¸°ì—¬-ê°€ì´ë“œ)

---

## ğŸ¯ í”„ë¡œì íŠ¸ ëª©ì 

í…ì•„ì‹œì•„(TenAsia)ëŠ” K-íŒÂ·K-ë“œë¼ë§ˆÂ·K-ì˜í™” ì „ë¬¸ ë¯¸ë””ì–´ì…ë‹ˆë‹¤.
**TenAsia Intelligence Hub**ëŠ” í…ì•„ì‹œì•„ì˜ ì½˜í…ì¸ ë¥¼ AI ê¸°ë°˜ìœ¼ë¡œ ìë™ ì •ì œí•˜ì—¬
í•œêµ­ì–´ ê¸°ì‚¬ë¥¼ ì˜ì–´Â·ë‹¤êµ­ì–´ë¡œ ë³€í™˜í•˜ê³ , ê¸€ë¡œë²Œ SNS í”Œë«í¼ì— ìµœì í™”ëœ í˜•íƒœë¡œ ë°°í¬í•˜ëŠ”
**ì§€ëŠ¥í˜• ë°ì´í„° íŒŒìš´ë°ì´ì…˜ í”Œë«í¼**ì…ë‹ˆë‹¤.

### í•µì‹¬ ê°€ì¹˜

| ê°€ì¹˜ | ì„¤ëª… |
|------|------|
| **ê¸€ë¡œë²Œ í™•ì¥** | í•œêµ­ì–´ ì½˜í…ì¸  â†’ ì˜ì–´/ë‹¤êµ­ì–´ ìë™ ë²ˆì—­ + SEO í•´ì‹œíƒœê·¸ ìƒì„± |
| **ë¹„ìš© íš¨ìœ¨** | `global_priority` ê¸°ë°˜ AI ì¶”ì¶œ ë¶„ê¸° (ë¶ˆí•„ìš”í•œ API í˜¸ì¶œ ìµœì†Œí™”) |
| **ì•ˆì •ì„±** | ë¶„ì‚° ì‘ì—… í + SKIP LOCKED + ìë™ ì¬ì‹œë„ë¡œ ìœ ì‹¤ ì—†ëŠ” ì²˜ë¦¬ |
| **ë³´ì•ˆ** | ë¯¼ê° ì •ë³´ AWS Secrets Manager ê²©ë¦¬, IAM ìµœì†Œ ê¶Œí•œ ì›ì¹™ |
| **í™•ì¥ì„±** | App Runner (ìë™ ìŠ¤ì¼€ì¼ë§) + EC2 (ì¥ì‹œê°„ ë°°ì¹˜) ì´ì›í™” ì„¤ê³„ |

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Backend
| êµ¬ë¶„ | ê¸°ìˆ  |
|------|------|
| ì–¸ì–´ | Python 3.10+ |
| Web UI | Streamlit 1.28+ |
| API ì„œë²„ | FastAPI + Uvicorn |
| ORM | SQLAlchemy 2.0 |
| DB ë§ˆì´ê·¸ë ˆì´ì…˜ | Alembic 1.13 |
| ë°ì´í„° ê²€ì¦ | Pydantic v2 |
| ë¡œê¹… | structlog (JSON / ì»¬ëŸ¬ ì½˜ì†”) |

### AI / ë°ì´í„°
| êµ¬ë¶„ | ê¸°ìˆ  |
|------|------|
| LLM | Google Gemini 2.0 Flash |
| ìŠ¤í¬ë˜í•‘ | BeautifulSoup4 + requests |
| HTTP ìŠ¤ë¡œí‹€ë§ | ë„ë©”ì¸ë³„ RPM ì œí•œ + Exponential Backoff |
| ì´ë¯¸ì§€ ì²˜ë¦¬ | Pillow + OpenCV |
| ë™ì˜ìƒ | yt-dlp + OpenCV |

### ì¸í”„ë¼ (AWS)
| êµ¬ë¶„ | ê¸°ìˆ  |
|------|------|
| ì»¨í…Œì´ë„ˆ ì„œë¹„ìŠ¤ | AWS App Runner (Web UI + API) |
| ë°°ì¹˜ ì›Œì»¤ | AWS EC2 t4g.micro (ARM64) |
| ë°ì´í„°ë² ì´ìŠ¤ | AWS RDS PostgreSQL 15 (db.t4g.micro) |
| ìŠ¤í† ë¦¬ì§€ | AWS S3 (`tenasia-thumbnails`) |
| ë¹„ë°€ ê´€ë¦¬ | AWS Secrets Manager |
| ë¹„ìš© ì œì–´ | AWS Budgets + SSM Parameter Store Kill Switch |
| IaC | Terraform 1.5+ |
| CI/CD | GitHub Actions (OIDC ë¬´ë¹„ë°€ë²ˆí˜¸ ì¸ì¦) |
| ë³´ì•ˆ ì ‘ì† | AWS SSM Session Manager (SSH í‚¤ ë¶ˆí•„ìš”) |

### ë°ì´í„°ë² ì´ìŠ¤ ì¸ë±ìŠ¤ ì „ëµ
```
GIN (FTS)  : title_ko + body_ko  â†’ to_tsvector('simple')
             title_en + body_en  â†’ to_tsvector('english')
GIN (trgm) : title_ko / title_en / body_ko / body_en
             artist_name_ko / artist_name_en   â† LIKE '%ê²€ìƒ‰ì–´%' ìµœì í™”
GIN (array): hashtags_ko / hashtags_en         â† @> ë°°ì—´ í¬í•¨ ê²€ìƒ‰
B-tree     : global_priority (partial) / language + created_at
```

---

## ğŸ“ ë””ë ‰í„°ë¦¬ êµ¬ì¡°

```
TenAsia-Intelligence-Hub/
â”‚
â”œâ”€â”€ core/                    # ê³µí†µ ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ config.py            # ì„¤ì • (Secrets Manager + Kill Switch)
â”‚   â”œâ”€â”€ db.py                # SQLAlchemy ì„¸ì…˜ íŒ©í† ë¦¬
â”‚   â””â”€â”€ logger.py            # structlog êµ¬ì¡°í™” ë¡œê¹…
â”‚
â”œâ”€â”€ scraper/                 # ìŠ¤í¬ë˜í•‘ ì—”ì§„
â”‚   â”œâ”€â”€ throttle.py          # ë„ë©”ì¸ë³„ HTTP ìŠ¤ë¡œí‹€ë§
â”‚   â”œâ”€â”€ gemini_engine.py     # Gemini API (RPM ì œì–´ + ì¡°ê±´ë¶€ ì¶”ì¶œ)
â”‚   â”œâ”€â”€ image_utils.py       # S3 ìš°ì„  ì´ë¯¸ì§€ ì—…ë¡œë“œ
â”‚   â”œâ”€â”€ db.py                # ì‘ì—… í raw SQL (SKIP LOCKED)
â”‚   â”œâ”€â”€ schema.py            # articles DDL + ë‹¤êµ­ì–´ ì¸ë±ìŠ¤
â”‚   â””â”€â”€ worker.py            # EC2 ë°±ê·¸ë¼ìš´ë“œ ì›Œì»¤ (ë£¨í”„/ë‹¨ì¼ ëª¨ë“œ)
â”‚
â”œâ”€â”€ processor/               # Gemini ê¸°ë°˜ ë°ì´í„° ì •ì œ
â”‚   â”œâ”€â”€ models.py            # Pydantic v2 (RawArticle, ArticleExtracted)
â”‚   â””â”€â”€ cleaner.py           # HTML ì •ì œ â†’ ì¶”ì¶œ â†’ ê²€ì¦ â†’ DB ì €ì¥
â”‚
â”œâ”€â”€ database/                # ORM ëª¨ë¸ + ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚   â”œâ”€â”€ base.py              # SQLAlchemy DeclarativeBase
â”‚   â”œâ”€â”€ models.py            # ORM ëª¨ë¸ (JobQueue, Article)
â”‚   â””â”€â”€ migrations/
â”‚       â”œâ”€â”€ env.py           # Alembic í™˜ê²½ (DATABASE_URL ìë™ ë¡œë“œ)
â”‚       â”œâ”€â”€ script.py.mako   # ë§ˆì´ê·¸ë ˆì´ì…˜ í…œí”Œë¦¿
â”‚       â””â”€â”€ versions/
â”‚           â””â”€â”€ 0001_initial.py  # ì´ˆê¸° ìŠ¤í‚¤ë§ˆ + ì¸ë±ìŠ¤
â”‚
â”œâ”€â”€ web/                     # Web UI + ë‚´ë¶€ API
â”‚   â”œâ”€â”€ api.py               # FastAPI (í¬íŠ¸ 8000, ë‚´ë¶€ìš©)
â”‚   â””â”€â”€ app.py               # Streamlit UI (í¬íŠ¸ 8501)
â”‚
â”œâ”€â”€ logs/                    # ëŸ°íƒ€ì„ ë¡œê·¸ (gitignore)
â”œâ”€â”€ terraform/               # AWS ì¸í”„ë¼ IaC
â”‚   â”œâ”€â”€ vpc.tf               # VPC 2-Tier + ë³´ì•ˆ ê·¸ë£¹
â”‚   â”œâ”€â”€ rds.tf               # PostgreSQL 15 (Private Subnet)
â”‚   â”œâ”€â”€ apprunner.tf         # App Runner ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ ec2_scraper.tf       # EC2 ë°°ì¹˜ ì›Œì»¤
â”‚   â”œâ”€â”€ iam.tf               # IAM Role + Policy (ìµœì†Œ ê¶Œí•œ)
â”‚   â”œâ”€â”€ vpc_endpoints.tf     # SSM/Secrets Manager VPC Endpoint
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ setup.sh             # ì›í´ë¦­ ì „ì²´ ì…‹ì—… ìë™í™”
â”‚   â””â”€â”€ start.sh             # ì»¨í…Œì´ë„ˆ ë©€í‹°í”„ë¡œì„¸ìŠ¤ ì§„ì…ì 
â”‚
â”œâ”€â”€ .github/workflows/
â”‚   â””â”€â”€ deploy.yml           # CI/CD (App Runner + EC2 ë°°í¬)
â”‚
â”œâ”€â”€ alembic.ini              # Alembic ì„¤ì •
â”œâ”€â”€ Dockerfile               # ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œ
â”œâ”€â”€ requirements.txt
â””â”€â”€ .env.example
```

---

## âš™ï¸ ì„¤ì¹˜ ë° ì‹¤í–‰

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Python 3.10 ì´ìƒ
- PostgreSQL 15 (ë¡œì»¬ ë˜ëŠ” AWS RDS)
- AWS CLI (í”„ë¡œë•ì…˜ ë°°í¬ ì‹œ)
- Terraform 1.5+ (ì¸í”„ë¼ í”„ë¡œë¹„ì €ë‹ ì‹œ)

### ë¡œì»¬ ê°œë°œ í™˜ê²½

```bash
# 1. ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/jiny78/TenAsia-Intelligence-Hub.git
cd TenAsia-Intelligence-Hub

# 2. ê°€ìƒ í™˜ê²½ ìƒì„± ë° í™œì„±í™”
python -m venv .venv
source .venv/bin/activate          # macOS/Linux
# .venv\Scripts\activate           # Windows

# 3. ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# 4. í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (ëŒ€í™”í˜• ë§ˆë²•ì‚¬ ì‚¬ìš© ê¶Œì¥)
python setup_env.py
# ë˜ëŠ” ìˆ˜ë™ìœ¼ë¡œ:
#   cp .env.example .env
#   .env íŒŒì¼ì„ ì—´ì–´ GEMINI_API_KEY, DATABASE_URL ì…ë ¥

# 5. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
alembic upgrade head

# 6. Web UI ì‹¤í–‰
streamlit run web/app.py

# 7. API ì„œë²„ ì‹¤í–‰ (ë³„ë„ í„°ë¯¸ë„)
uvicorn web.api:app --reload --port 8000
```

### í”„ë¡œë•ì…˜ ë°°í¬ (AWS)

```bash
# ì›í´ë¦­ ì „ì²´ ì…‹ì—… (Terraform + Secrets Manager + GitHub Secrets)
chmod +x scripts/setup.sh
./scripts/setup.sh

# ì´í›„ main ë¸Œëœì¹˜ì— push í•˜ë©´ ìë™ ë°°í¬
git push origin main
```

---

## ğŸ” í™˜ê²½ ë³€ìˆ˜

`.env.example`ì„ ë³µì‚¬í•˜ì—¬ `.env`ë¥¼ ë§Œë“¤ê³  ì‹¤ì œ ê°’ì„ ì…ë ¥í•©ë‹ˆë‹¤.
**`.env` íŒŒì¼ì€ ì ˆëŒ€ ì»¤ë°‹í•˜ì§€ ë§ˆì„¸ìš”.** (`.gitignore`ì— í¬í•¨ë¨)

| ë³€ìˆ˜ | í•„ìˆ˜ | ì„¤ëª… |
|------|------|------|
| `ENVIRONMENT` | âœ… | `development` ë˜ëŠ” `production` |
| `GEMINI_API_KEY` | âœ… | Google AI Studioì—ì„œ ë°œê¸‰ |
| `DATABASE_URL` | âœ… | PostgreSQL ì ‘ì† URL |
| `AWS_REGION` | âœ… | AWS ë¦¬ì „ (ê¸°ë³¸: `ap-northeast-2`) |
| `S3_BUCKET_NAME` | âœ… | ì¸ë„¤ì¼ S3 ë²„í‚· ì´ë¦„ |
| `GEMINI_RPM_LIMIT` | â˜ | ë¶„ë‹¹ Gemini í˜¸ì¶œ ì œí•œ (ê¸°ë³¸: 60) |
| `LOG_LEVEL` | â˜ | ë¡œê·¸ ë ˆë²¨ (ê¸°ë³¸: `INFO`) |
| `WORKER_POLL_INTERVAL` | â˜ | EC2 ì›Œì»¤ í´ë§ ê°„ê²© ì´ˆ (ê¸°ë³¸: 10) |

---

## ğŸ—„ ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜

```bash
# í˜„ì¬ ìƒíƒœ í™•ì¸
alembic current

# ìµœì‹  ë²„ì „ ì ìš©
alembic upgrade head

# íŠ¹ì • ë²„ì „ìœ¼ë¡œ ë¡¤ë°±
alembic downgrade -1

# ëª¨ë¸ ë³€ê²½ í›„ ìƒˆ ë§ˆì´ê·¸ë ˆì´ì…˜ ìë™ ìƒì„±
alembic revision --autogenerate -m "add column description"

# ë§ˆì´ê·¸ë ˆì´ì…˜ ì´ë ¥ í™•ì¸
alembic history --verbose
```

---

## ğŸ—º Phase ë¡œë“œë§µ

### Phase 1 â€” ë°ì´í„° íŒŒìš´ë°ì´ì…˜ âœ… `í˜„ì¬`

> í”„ë¡œì íŠ¸ì˜ í•µì‹¬ ì¸í”„ë¼ì™€ ë°ì´í„° ì²˜ë¦¬ ê¸°ë°˜ì„ êµ¬ì¶•í•©ë‹ˆë‹¤.

- [x] ë””ë ‰í„°ë¦¬ êµ¬ì¡° ì •ì˜ (`core/`, `scraper/`, `processor/`, `database/`, `logs/`)
- [x] SQLAlchemy ORM ëª¨ë¸ (`JobQueue`, `Article`)
- [x] Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ (ë‹¤êµ­ì–´ GIN/Trigram ì¸ë±ìŠ¤ í¬í•¨)
- [x] Pydantic v2 ë°ì´í„° ê²€ì¦ ëª¨ë¸
- [x] structlog êµ¬ì¡°í™” ë¡œê¹… (ê°œë°œ: ì»¬ëŸ¬ì½˜ì†” / í”„ë¡œë•ì…˜: JSON)
- [x] AWS ì¸í”„ë¼ IaC (VPC 2-Tier, RDS, S3, IAM, App Runner, EC2)
- [x] Terraform ìƒíƒœ ê´€ë¦¬ (S3 + DynamoDB ë°±ì—”ë“œ)
- [x] GitHub Actions CI/CD (OIDC ë¬´ë¹„ë°€ë²ˆí˜¸ ì¸ì¦)

---

### Phase 2 â€” ìŠ¤í¬ë˜í•‘ ì—”ì§„ ğŸ”„ `ì§„í–‰ ì˜ˆì •`

> í…ì•„ì‹œì•„ ë° ì£¼ìš” K-ì—”í„° ë¯¸ë””ì–´ ì‚¬ì´íŠ¸ì—ì„œ ë°ì´í„°ë¥¼ ìë™ ìˆ˜ì§‘í•©ë‹ˆë‹¤.

- [ ] í…ì•„ì‹œì•„ ì „ìš© ìŠ¤í¬ë˜í¼ (`scraper/sources/tenasia.py`)
- [ ] ë„ë©”ì¸ë³„ ìŠ¤ë¡œí‹€ë§ ì •ì±… ì •ë°€ ì¡°ì • (`scraper/throttle.py`)
- [ ] ì•„í‹°ìŠ¤íŠ¸ `global_priority` ìë™ íŒë³„ ë¡œì§
- [ ] ë©€í‹°ì†ŒìŠ¤ ìˆ˜ì§‘ (`scraper/sources/`: ë„¤ì´ë²„, ë‹¤ìŒ, YouTube)
- [ ] ì¤‘ë³µ URL ê°ì§€ ë° ë³€ê²½ ê°ì§€ (diff ê¸°ë°˜ ì—…ë°ì´íŠ¸)
- [ ] EC2 ì›Œì»¤ ë°°í¬ ìë™í™” íŒŒì´í”„ë¼ì¸ ì•ˆì •í™”
- [ ] ìˆ˜ì§‘ ì‹¤íŒ¨ìœ¨ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ

---

### Phase 3 â€” AI ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ ğŸ”„ `ì§„í–‰ ì˜ˆì •`

> Gemini APIë¥¼ í™œìš©í•´ ì›ì‹œ ë°ì´í„°ë¥¼ êµ¬ì¡°í™”ëœ ê¸€ë¡œë²Œ ì½˜í…ì¸ ë¡œ ì •ì œí•©ë‹ˆë‹¤.

- [ ] `processor/cleaner.py` í”„ë¡œë•ì…˜ ì—°ê²° (`_do_scrape` êµ¬í˜„)
- [ ] global_priority ë¶„ê¸° ì „ëµ ê³ ë„í™”
  - `True`: í•œ/ì˜ ì´ì¤‘ ì–¸ì–´ + SEO í•´ì‹œíƒœê·¸ (Gemini Flash)
  - `False`: í•œêµ­ì–´ ì œëª© + ì•„í‹°ìŠ¤íŠ¸ëª…ë§Œ (ìµœì†Œ ë¹„ìš©)
- [ ] ë²ˆì—­ í’ˆì§ˆ ê²€ì¦ íŒŒì´í”„ë¼ì¸
- [ ] ì´ë¯¸ì§€/ë™ì˜ìƒ ì¸ë„¤ì¼ ìë™ ì¶”ì¶œ + S3 ìµœì í™”
- [ ] ì›”ë³„ í† í° ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§ + Kill Switch ìë™í™”
- [ ] Gemini ì˜¤ë¥˜ ìœ í˜•ë³„ ì¬ì‹œë„ ì „ëµ

---

### Phase 4 â€” ì›¹ UI & API ê³ ë„í™” ğŸ”„ `ì§„í–‰ ì˜ˆì •`

> ìš´ì˜ìì™€ íŒ¬ë¤ì´ ì§ì ‘ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì™„ì„±í•©ë‹ˆë‹¤.

- [ ] Streamlit ëŒ€ì‹œë³´ë“œ ì™„ì„±
  - ì‹¤ì‹œê°„ ì‘ì—… í ëª¨ë‹ˆí„°ë§
  - ì•„í‹°ìŠ¤íŠ¸ë³„ ì²˜ë¦¬ í˜„í™©
  - ë¹„ìš©/í† í° ì‚¬ìš©ëŸ‰ ì‹œê°í™”
- [ ] FastAPI REST API í™•ì¥
  - ì•„í‹°í´ ê²€ìƒ‰ API (ì „ë¬¸ ê²€ìƒ‰ + íŠ¸ë¼ì´ê·¸ë¨)
  - ì•„í‹°ìŠ¤íŠ¸ í”„ë¡œí•„ API
  - ê¸€ë¡œë²Œ íŒ¬ë¤ íŠ¸ë Œë“œ API
- [ ] ì›¹í›… ì—°ë™ (Slack, Discord ì•Œë¦¼)
- [ ] ê´€ë¦¬ì ì¸ì¦ (AWS Cognito ë˜ëŠ” Simple Token)

---

### Phase 5 â€” ê¸€ë¡œë²Œ ë°°í¬ & ìš´ì˜ ğŸ”„ `ì§„í–‰ ì˜ˆì •`

> í”„ë¡œë•ì…˜ ì•ˆì •í™” ë° ê¸€ë¡œë²Œ í™•ì¥ì„ ë‹¬ì„±í•©ë‹ˆë‹¤.

- [ ] ë‹¤êµ­ì–´ ì½˜í…ì¸  ìë™ ë°°í¬
  - X (êµ¬ Twitter), Instagram, Threads
  - ë„¤ì´ë²„ ë¸”ë¡œê·¸, Facebook
- [ ] CDN ì—°ë™ (CloudFront + S3) â€” ì¸ë„¤ì¼ ê¸€ë¡œë²Œ ë°°í¬
- [ ] RDS Read Replica â€” ì½ê¸° ë¶€í•˜ ë¶„ì‚°
- [ ] ë¹„ìš© ìµœì í™” ë³´ê³ ì„œ ìë™ ìƒì„±
- [ ] ìë™í™” í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ (pytest + ì»¤ë²„ë¦¬ì§€ 80% ì´ìƒ)
- [ ] ì–¸ì–´ í™•ì¥: ì¼ë³¸ì–´(`jp`), ì¤‘êµ­ì–´(`zh`) ì§€ì›
- [ ] EventBridge + Lambda Kill Switch ì›”ë³„ ìë™ ë¦¬ì…‹

---

## ğŸ— ì•„í‚¤í…ì²˜

```
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚           ì‚¬ìš©ì ë¸Œë¼ìš°ì €                 â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚ HTTPS
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚         AWS App Runner                   â”‚
                     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                     â”‚  â”‚  Streamlit   â”‚  â”‚    FastAPI      â”‚  â”‚
                     â”‚  â”‚  :8501       â”‚  â”‚    :8000        â”‚  â”‚
                     â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚ VPC Connector     â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   Private VPC  â”‚                   â”‚              â”‚
              â”‚         â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
              â”‚         â”‚              RDS PostgreSQL 15        â”‚  â”‚
              â”‚         â”‚         (job_queue + articles)        â”‚  â”‚
              â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
              â”‚                                                    â”‚
              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
              â”‚  â”‚           EC2 t4g.micro (Scraper)            â”‚  â”‚
              â”‚  â”‚  scraper/worker.py  â†â”€â”€ SSM SendCommand     â”‚  â”‚
              â”‚  â”‚        â”‚                                     â”‚  â”‚
              â”‚  â”‚  processor/cleaner.py                       â”‚  â”‚
              â”‚  â”‚        â”‚                                     â”‚  â”‚
              â”‚  â”‚  Gemini API  â†’  S3 (thumbnails)             â”‚  â”‚
              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Secrets Manager â”€â”€â–º GEMINI_API_KEY, DATABASE_URL
  SSM Parameter   â”€â”€â–º Kill Switch, Monthly Tokens
  GitHub Actions  â”€â”€â–º OIDC â†’ ECR Push + App Runner Deploy + EC2 Deploy
```

### ë°ì´í„° ì²˜ë¦¬ íë¦„

```
URL ì…ë ¥ (Streamlit or API)
    â”‚
    â–¼
job_queue (PostgreSQL, SKIP LOCKED)
    â”‚
    â–¼  EC2 Worker í´ë§ (10ì´ˆ ê°„ê²©)
scraper/throttle.py  â†â”€â”€ ë„ë©”ì¸ë³„ RPM ì œí•œ
    â”‚
    â–¼
HTML ë‹¤ìš´ë¡œë“œ
    â”‚
    â–¼
processor/cleaner.py
    â”œâ”€â”€ BeautifulSoup HTML ì •ì œ
    â”œâ”€â”€ gemini_engine.py
    â”‚     â”œâ”€â”€ global_priority=True  â†’ ì „ì²´ ì¶”ì¶œ (í•œ/ì˜ + í•´ì‹œíƒœê·¸)
    â”‚     â””â”€â”€ global_priority=False â†’ ìµœì†Œ ì¶”ì¶œ (ì œëª© + ì•„í‹°ìŠ¤íŠ¸ëª…)
    â”œâ”€â”€ Pydantic v2 ê²€ì¦
    â”œâ”€â”€ image_utils.py â†’ S3 ì—…ë¡œë“œ â†’ ì„ì‹œíŒŒì¼ ì‚­ì œ
    â””â”€â”€ scraper/db.upsert_article() â†’ PostgreSQL
```

---

## ğŸ¤ ê¸°ì—¬ ê°€ì´ë“œ

### ë¸Œëœì¹˜ ì „ëµ (Git Flow)

```
main
 â”‚  í”„ë¡œë•ì…˜ ë¸Œëœì¹˜ (ë³´í˜¸ë¨ â€” ì§ì ‘ push ê¸ˆì§€)
 â”‚  ëª¨ë“  ë°°í¬ëŠ” ì—¬ê¸°ì„œ ì‹œì‘ë©ë‹ˆë‹¤.
 â”‚
 â”œâ”€â”€ develop  â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚    â”‚  í†µí•© ë¸Œëœì¹˜ (ì¼ìƒ ì‘ì—…ì˜ ê¸°ì¤€ì )                  â”‚
 â”‚    â”‚                                                    â”‚
 â”‚    â”œâ”€â”€ feature/ê¸°ëŠ¥ëª…     ìƒˆ ê¸°ëŠ¥ ê°œë°œ â†’ PR â†’ develop   â”‚
 â”‚    â”œâ”€â”€ fix/ì´ìŠˆë²ˆí˜¸       ë²„ê·¸ ìˆ˜ì •    â†’ PR â†’ develop   â”‚
 â”‚    â””â”€â”€ chore/ì‘ì—…ëª…       ì„¤ì •/ì˜ì¡´ì„±  â†’ PR â†’ develop   â”‚
 â”‚                                                         â”‚
 â”œâ”€â”€ release/v1.x.0          develop â†’ ê²€ì¦ â†’ main + tag â”€â”˜
 â”‚    â”‚  ë°°í¬ ì¤€ë¹„ (ë²„ì „ ë²”í”„, CHANGELOG)
 â”‚    â””â”€â”€ PR â†’ main  (tag: v1.x.0)
 â”‚
 â””â”€â”€ hotfix/ê¸´ê¸‰ìˆ˜ì •ëª…       mainì—ì„œ ë¶„ê¸° â†’ PR â†’ main + develop
      ê¸´ê¸‰ í”„ë¡œë•ì…˜ íŒ¨ì¹˜ (ì¼ë°˜ ì‘ì—… íë¦„ ìš°íšŒ)
```

#### ë¸Œëœì¹˜ ì„¤ëª…

| ë¸Œëœì¹˜ | ì„¤ëª… | ì†ŒìŠ¤ | ëŒ€ìƒ |
|--------|------|------|------|
| `main` | í”„ë¡œë•ì…˜ ì½”ë“œ. íƒœê·¸(`v*`) ê¸°ì¤€ ë°°í¬ | â€” | â€” |
| `develop` | ë‹¤ìŒ ë¦´ë¦¬ìŠ¤ë¥¼ ìœ„í•œ í†µí•© ë¸Œëœì¹˜ | `main` | â€” |
| `feature/*` | ìƒˆ ê¸°ëŠ¥ ë‹¨ìœ„ ì‘ì—… | `develop` | `develop` |
| `fix/*` | ê°œë°œ ì¤‘ ë²„ê·¸ ìˆ˜ì • | `develop` | `develop` |
| `chore/*` | ì„¤ì •Â·ì˜ì¡´ì„±Â·ë¬¸ì„œ ë³€ê²½ | `develop` | `develop` |
| `release/*` | ë°°í¬ ì „ ìµœì¢… ê²€ì¦ | `develop` | `main` + `develop` |
| `hotfix/*` | í”„ë¡œë•ì…˜ ê¸´ê¸‰ íŒ¨ì¹˜ | `main` | `main` + `develop` |

#### ì¼ë°˜ ì‘ì—… íë¦„

```bash
# 1. develop ë¸Œëœì¹˜ë¥¼ ìµœì‹  ìƒíƒœë¡œ ì—…ë°ì´íŠ¸
git checkout develop && git pull origin develop

# 2. ê¸°ëŠ¥ ë¸Œëœì¹˜ ìƒì„±
git checkout -b feature/scraper-tenasia

# 3. ì‘ì—… í›„ ì»¤ë°‹
git add scraper/sources/tenasia.py
git commit -m "feat: add TenAsia article scraper"

# 4. develop ìœ¼ë¡œ PR ìƒì„±
git push origin feature/scraper-tenasia
# â†’ GitHubì—ì„œ develop ëŒ€ìƒ PR ì—´ê¸°

# 5. ë¦¬ë·° í†µê³¼ í›„ Squash Merge â†’ develop
# 6. release/vX.Y.Z ë¸Œëœì¹˜ì—ì„œ main ìœ¼ë¡œ PR â†’ ë°°í¬
```

### ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™ (Conventional Commits)

```
feat:     ìƒˆ ê¸°ëŠ¥ ì¶”ê°€
fix:      ë²„ê·¸ ìˆ˜ì •
docs:     ë¬¸ì„œ ë³€ê²½
refactor: ê¸°ëŠ¥ ë³€ê²½ ì—†ëŠ” ì½”ë“œ ê°œì„ 
test:     í…ŒìŠ¤íŠ¸ ì¶”ê°€/ìˆ˜ì •
chore:    ë¹Œë“œ, ì„¤ì •, ì˜ì¡´ì„± ë³€ê²½
```

### Pull Request

1. `feature/your-feature` ë˜ëŠ” `fix/issue-ë²ˆí˜¸` ë¸Œëœì¹˜ ìƒì„±
2. ë³€ê²½ì‚¬í•­ ì»¤ë°‹ (ìœ„ ê·œì¹™ ì¤€ìˆ˜)
3. GitHub PR ìƒì„± â†’ **`develop`** ëŒ€ìƒ (ê¸´ê¸‰ íŒ¨ì¹˜ëŠ” `main`)
4. GitHub Actions í…ŒìŠ¤íŠ¸ í†µê³¼ í™•ì¸
5. ë¦¬ë·° í›„ Squash Merge

---

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” ë‚´ë¶€ ì‚¬ìš© ëª©ì ìœ¼ë¡œ ì‘ì„±ë©ë‹ˆë‹¤.
ë¬´ë‹¨ ë³µì œ ë° ë°°í¬ë¥¼ ê¸ˆì§€í•©ë‹ˆë‹¤.

---

<div align="center">
  <sub>Built with â¤ï¸ for K-Entertainment Global Expansion</sub>
</div>
